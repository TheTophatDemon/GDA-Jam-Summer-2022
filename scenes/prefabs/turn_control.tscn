[gd_scene load_steps=20 format=2]

[ext_resource path="res://gfx/ui/timer_overlay.png" type="Texture" id=1]
[ext_resource path="res://gfx/fonts/stencil.ttf" type="DynamicFontData" id=2]
[ext_resource path="res://gfx/ui/portraits/current_outline.png" type="Texture" id=3]
[ext_resource path="res://scripts/team.gd" type="Script" id=4]
[ext_resource path="res://scripts/ui/player_portraits.gd" type="Script" id=5]
[ext_resource path="res://scripts/turn_control.gd" type="Script" id=6]
[ext_resource path="res://scripts/ui/turn_timer.gd" type="Script" id=7]
[ext_resource path="res://scripts/ui/countdown.gd" type="Script" id=8]
[ext_resource path="res://gfx/ui/timer_fill.png" type="Texture" id=9]
[ext_resource path="res://gfx/ui/portraits/ray_portrait.png" type="Texture" id=10]
[ext_resource path="res://gfx/ui/portraits/dilan_portrait.png" type="Texture" id=11]
[ext_resource path="res://gfx/ui/portraits/rastera_portrait.png" type="Texture" id=12]
[ext_resource path="res://gfx/ui/timer_back.png" type="Texture" id=13]
[ext_resource path="res://scenes/prefabs/players/dilan.tscn" type="PackedScene" id=14]
[ext_resource path="res://scenes/prefabs/players/rastera.tscn" type="PackedScene" id=15]
[ext_resource path="res://gfx/fonts/DejaVuSans.ttf" type="DynamicFontData" id=16]
[ext_resource path="res://scenes/prefabs/players/ray.tscn" type="PackedScene" id=17]

[sub_resource type="DynamicFont" id=8]
outline_size = 2
outline_color = Color( 0, 0, 0, 1 )
extra_spacing_bottom = -4
font_data = ExtResource( 16 )

[sub_resource type="DynamicFont" id=7]
size = 48
font_data = ExtResource( 2 )

[node name="TurnControl" type="Spatial"]
unique_name_in_owner = true
script = ExtResource( 6 )

[node name="PlayerPortraits" type="VBoxContainer" parent="."]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -144.0
margin_top = 9.0
margin_right = -12.0
margin_bottom = 413.0
script = ExtResource( 5 )

[node name="Dilan" type="TextureRect" parent="PlayerPortraits"]
margin_right = 132.0
margin_bottom = 128.0
texture = ExtResource( 11 )

[node name="Outline" type="TextureRect" parent="PlayerPortraits/Dilan"]
margin_right = 132.0
margin_bottom = 128.0
texture = ExtResource( 3 )

[node name="Health" type="Label" parent="PlayerPortraits/Dilan"]
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -15.0
margin_top = -55.0
margin_right = 16.0
margin_bottom = 58.0
custom_colors/font_color = Color( 1, 0, 0, 1 )
custom_fonts/font = SubResource( 8 )
text = "∧
♥
♥
♥
∨"
align = 1
valign = 1

[node name="Rastera" type="TextureRect" parent="PlayerPortraits"]
margin_top = 132.0
margin_right = 132.0
margin_bottom = 260.0
texture = ExtResource( 12 )

[node name="Health" type="Label" parent="PlayerPortraits/Rastera"]
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -17.0
margin_top = -48.0
margin_right = 14.0
margin_bottom = 65.0
custom_colors/font_color = Color( 1, 0, 0, 1 )
custom_fonts/font = SubResource( 8 )
text = "∧
♥
♥
♥
∨"
align = 1
valign = 1

[node name="Ray" type="TextureRect" parent="PlayerPortraits"]
margin_top = 264.0
margin_right = 132.0
margin_bottom = 392.0
texture = ExtResource( 10 )

[node name="Health" type="Label" parent="PlayerPortraits/Ray"]
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -21.0
margin_top = -50.0
margin_right = 10.0
margin_bottom = 63.0
custom_colors/font_color = Color( 1, 0, 0, 1 )
custom_fonts/font = SubResource( 8 )
text = "∧
♥
♥
♥
∨"
align = 1
valign = 1

[node name="Countdown" type="Label" parent="."]
anchor_left = 0.5
anchor_right = 0.5
margin_left = -76.0
margin_top = 42.0
margin_right = 76.0
margin_bottom = 91.0
custom_fonts/font = SubResource( 7 )
text = "READY"
align = 1
script = ExtResource( 8 )

[node name="Timer" type="Timer" parent="Countdown"]
wait_time = 2.0
one_shot = true

[node name="TurnTime" type="TextureProgress" parent="."]
margin_left = 16.0
margin_top = 16.0
margin_right = 80.0
margin_bottom = 80.0
rect_scale = Vector2( 2, 2 )
max_value = 1.0
step = 0.0
texture_under = ExtResource( 9 )
texture_over = ExtResource( 1 )
texture_progress = ExtResource( 13 )
fill_mode = 4
script = ExtResource( 7 )

[node name="Timer" type="Timer" parent="TurnTime"]
wait_time = 30.0
one_shot = true

[node name="Teams" type="Spatial" parent="."]

[node name="PlayerTeam" type="Spatial" parent="Teams"]
unique_name_in_owner = true
script = ExtResource( 4 )

[node name="Dilan" parent="Teams/PlayerTeam" instance=ExtResource( 14 )]
transform = Transform( -0.820491, 0, -0.571659, 0, 1, 0, 0.571659, 0, -0.820491, 34.7045, -3.8147e-06, 37.617 )
max_health = 3

[node name="Rastera" parent="Teams/PlayerTeam" instance=ExtResource( 15 )]
transform = Transform( 0.915403, 0, -0.402539, 0, 1, 0, 0.402539, 0, 0.915403, 10.6571, 0, 9.69149 )

[node name="Ray" parent="Teams/PlayerTeam" instance=ExtResource( 17 )]
transform = Transform( -0.907873, 0, -0.419246, 0, 1, 0, 0.419246, 0, -0.907873, 18.7941, 0, 35.2419 )

[node name="EnemyTeam" type="Spatial" parent="Teams"]
unique_name_in_owner = true
script = ExtResource( 4 )
