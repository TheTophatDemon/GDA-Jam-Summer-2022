[gd_scene load_steps=14 format=2]

[ext_resource path="res://scenes/prefabs/turn_control.tscn" type="PackedScene" id=1]
[ext_resource path="res://gfx/models/battlefields/boss_room.glb" type="PackedScene" id=2]
[ext_resource path="res://gfx/models/characters/villainguy.glb" type="PackedScene" id=3]
[ext_resource path="res://scripts/regen_navmesh.gd" type="Script" id=4]
[ext_resource path="res://scripts/battle_camera.gd" type="Script" id=5]
[ext_resource path="res://scripts/play_anim.gd" type="Script" id=6]
[ext_resource path="res://scenes/prefabs/props/Crate.tscn" type="PackedScene" id=7]
[ext_resource path="res://scenes/prefabs/props/Cart.tscn" type="PackedScene" id=8]
[ext_resource path="res://scenes/prefabs/healthbox.tscn" type="PackedScene" id=10]
[ext_resource path="res://scenes/prefabs/enemies/bad_man.tscn" type="PackedScene" id=12]
[ext_resource path="res://sound/music/fight_fighters.ogg" type="AudioStream" id=16]

[sub_resource type="NavigationMesh" id=4]
geometry_collision_mask = 4294967290
geometry_source_geometry_mode = 1
agent_radius = 2.0

[sub_resource type="Environment" id=6]
background_mode = 1
ambient_light_color = Color( 0.501961, 0.501961, 0.501961, 1 )
fog_enabled = true
fog_depth_begin = 50.0

[node name="World" type="Spatial"]

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.34202, 0.939693, 0, -0.939693, 0.34202, 27.645, 28.264, 24.506 )
current = true
script = ExtResource( 5 )

[node name="NavMesh" type="NavigationMeshInstance" parent="." groups=["navmesh"]]
navmesh = SubResource( 4 )
script = ExtResource( 4 )

[node name="boss_room" parent="NavMesh" instance=ExtResource( 2 )]

[node name="StaticBody" parent="NavMesh/boss_room/battlefield" index="0"]
collision_layer = 3

[node name="Crate" parent="NavMesh" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 27.9131, 2.38419e-06, -1.50219 )

[node name="Crate2" parent="NavMesh" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 34.3526, 2.38419e-06, 3.81948 )

[node name="Crate3" parent="NavMesh" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.940414, 2.38419e-06, 36.4102 )

[node name="Cart" parent="NavMesh" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -19.437, 9.53674e-07, 2.01457 )

[node name="Cart2" parent="NavMesh" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 15.5187, 0.219945, 2.67946 )

[node name="Cart3" parent="NavMesh" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.75036, 9.53674e-07, -28.6244 )

[node name="TurnControl" parent="." instance=ExtResource( 1 )]

[node name="Dilan" parent="TurnControl/Teams/PlayerTeam" index="0"]
transform = Transform( 0.600434, 0, 0.799674, 0, 1, 0, -0.799674, 0, 0.600434, 44.6824, 0.208253, -8.96966 )

[node name="Rastera" parent="TurnControl/Teams/PlayerTeam" index="1"]
transform = Transform( 0.246644, 0, -0.969106, 0, 1, 0, 0.969106, 0, 0.246644, -41.3931, -3.8147e-06, 21.6475 )

[node name="Ray" parent="TurnControl/Teams/PlayerTeam" index="2"]
transform = Transform( -0.800334, 0, -0.599554, 0, 1, 0, 0.599554, 0, -0.800334, -29.0358, 0, 35.756 )

[node name="Bad Man" parent="TurnControl/Teams/EnemyTeam" index="0" instance=ExtResource( 12 )]
transform = Transform( 0.691084, 0, 0.722774, 0, 1, 0, -0.722774, 0, 0.691084, -24.4478, -1.90735e-06, -19.4848 )

[node name="Bad Man2" parent="TurnControl/Teams/EnemyTeam" index="1" instance=ExtResource( 12 )]
transform = Transform( -0.889974, 0, -0.456011, 0, 1, 0, 0.456011, 0, -0.889974, 27.6591, -2.86102e-06, 21.6421 )

[node name="Bad Man3" parent="TurnControl/Teams/EnemyTeam" index="2" instance=ExtResource( 12 )]
transform = Transform( -0.616431, 0, -0.787408, 0, 1, 0, 0.787408, 0, -0.616431, 17.8731, -2.86102e-06, 26.0479 )

[node name="Bad Man4" parent="TurnControl/Teams/EnemyTeam" index="3" instance=ExtResource( 12 )]
transform = Transform( 0.991469, 0, 0.130335, 0, 1, 0, -0.130335, 0, 0.991469, 0.270565, 9.53674e-07, -44.3281 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 6 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.944891, 0.109538, -0.308518, 0.195044, 0.568523, 0.799211, 0.262944, -0.815342, 0.515828, 0, 0, 0 )

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 16 )
autoplay = true
bus = "Music"

[node name="villainguy" parent="." instance=ExtResource( 3 )]
transform = Transform( 0.53207, 0, -0.454864, 0, 0.7, 0, 0.454864, 0, 0.53207, -0.12363, 1.96428, 0.653594 )
script = ExtResource( 6 )
animation = "idle-loop"

[node name="HealthBox" parent="." instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 32.5128, 0.776026, -31.931 )

[node name="HealthBox2" parent="." instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 27.0469, 0.776026, 28.8497 )

[editable path="NavMesh/boss_room"]
[editable path="TurnControl"]
